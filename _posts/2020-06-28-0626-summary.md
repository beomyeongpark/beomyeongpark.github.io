---
layout: post
title:  "0626-SQL-SUMMARY"
date:   2020-06-28 00:00:00
categories: [DDIT-SQL]
comments: false
---
# 0626 SQL 요약

## LIKE
- `LIKE` 
    - `WHERE` 절에서 사용 가능한 연산자
    - 문자의 일부분으로 검색을 하고 싶을 때 사용
- 사용 방법
    - 컬럼 LIKE '패턴문자열'
    - `%` : 문자가 없거나, 어떤 문자든지 여러개의 문자열
        - '%s' : s로 시작하는 모든 문자열 조회
    - `_` : 어떤 문자든 딱 하나의 문자를 의미
        - 's_' : s로시작하고 두번째 문자가 어떤 문자든 하나의 문자가 오는 2자리의 문자열
        - 's___' : s로시작하고 문자열의 길이가 4글자인 문자열 
- 실습
    
    - 다음과 같은 `info` 라는 테이블이 있다고 생각한다.

        |NAME|phone|address|
        |:---|:---:|:---:|
        |가나다|010-1234-5678|대전|
        |가다나|010-2345-6789|서울|
        |다나가|010-3456-1234|청주|

        - 이름이 `가`로 시작하는 사름을 조회

                ```
                SELECT *
                FROM info
                WHERE name LIKE '가%'; 
                ```
                
            - 결과 

                |NAME|PHONE|ADDRESS|
                |:---|:---:|:---:|
                |가나다|010-1234-5678|대전|
                |가다나|010-2345-6789|서울|  

        - 이름에 `다`가 들어 가는 사람을 조회

          ```
          SELECT *
          FROM info
          WHERE name LIKE '%다%'; 
           ```

            - 결과

                |NAME|PHONE|ADDRESS|
                |:---|:---:|:---:|
                |가나다|010-1234-5678|대전|
                |가다나|010-2345-6789|서울|
                |다나가|010-3456-1234|청주|

## NULL 값 조회 / 제외 하고 조회
- `NULL` 값을 조회할 때 `IS NULL` 을 사용
- `NULL` 값을 제외 하고 조회할 때 `IS NOT NULL` 사용
<br>

    - 예시
        ```
        SELECT *
        FROM info
        WHEW name IS NULL;

        SELECT *
        FROM info
        WHEW name IS NOT NULL;
        ```

## 논리연산자
- `AND` : 참 거짓 판단식,식 두개를 동시에 만족하는 행만 참
- `OR` : 참 거짓 판단식,식 두개중에서 하나라도 만족하면 참
- `AND` 연산후 `OR` 연산 수행
- `NOT` : 조건을 반대로 해석하는 부정형 연산
    - `NOT IN`, `IS NOT NULL;`

## IN
>- `IN` : 여러 값을 나열하여 한개라도 포함하면 조회
        - ex) IN(값1,값2,값3...)
>- `NOT IN` : 여러 값을 나열하여 모든값을 제외하면 조회

- `논리연산자` , `IN` 실습
    - 테이블
    
        |NAME|PHONE|ADDRESS|SAL|
        |:---|:---:|:---:|:---:|
        |가나다|010-1234-5678|대전|1000|
        |가다나|010-2345-6789|서울|2000|
        |다나가|010-3456-1234|청주|3000|

        - 사는 지역이 `대전` 이거나 `서울`인 사람을 조회

            ```
            SELECT *
            FROM info
            WHERE address IN ('대전','서울');

            SELECT *
            FROM info
            WHERE address = '대전' OR address ='서울';
            ```

            - 결과

                |NAME|PHONE|ADDRESS|SAL|
                |:---|:---:|:---:|:---:|
                |가나다|010-1234-5678|대전|1000|
                |가다나|010-2345-6789|서울|2000|

        - 판매량이 2000인 사람을 제외하고 조회

            ```
            SELECT *
            FROM info
            WHERE sal NOT IN(2000);
            ```
          
            - 결과
                
               |NAME|PHONE|ADDRESS|SAL|
               |:---|:---:|:---:|:---:|
               |가나다|010-1234-5678|대전|1000|
               |다나가|010-3456-1234|청주|3000|
<br>


## IN & OR , NOT IN & AND 의 관계
- `IN` = `OR`
    - __A IN(10,20,30)__ = __A = 10 OR A = 20 OR A = 30__
- `NOT IN` = `AND`
    - __A NOT IN(10,20,30)__ = __A != 10 AND A != 20 AND A !=30__
    <br>
    <br>
    <br>
        
        
## 정렬
-`RDBMS`는  집합적인 사상을 따른다.
- 집합에는 순서가 없다
    - __{1, 3, 5}__ = __{3, 5, 1}__
- 집합에는 중복이 없다.
    - __{1, 3, 5, 1}__ = __{3, 5, 1}__ 
- 방법
    - `ORDER BY 1,2,3....` : 컬럼, ALIAS, 컬럼번호 모두 가능
        - __컬럼번호__ : `SELECT` 절에 나열된 컬럼의 인덱스 번호 
    - `ASC` : 오름차순 (기본)
    - `DESC` : 내림차순

- 실습
    - 테이블
        
        |NAME|PHONE|ADDRESS|SAL|
        |:---|:---:|:---:|:---:|
        |가나다|010-1234-5678|대전|1000|
        |가다나|010-2345-6789|서울|2000|
        |다나가|010-3456-1234|청주|3000|
     
     - `sal` 을 기준으로 내림차순으로 조회
     
        ```
        SELECT *
        FROM info
        ORDER BY DESC sal;
        ``` 
       
        - 결과
        
            |NAME|PHONE|ADDRESS|SAL|
            |:---|:---:|:---:|:---:|
            |다나가|010-3456-1234|청주|3000|
            |가다나|010-2345-6789|서울|2000|
            |가나다|010-1234-5678|대전|1000|
      
     - `sal` 에 12를 곱한 테이블의 별칭을 salary로 하고 salary 내림차순으로 조회 
      
        ```
        SELECT *, sal * 12 AS salary
        FROM info
        ORDER BY salary;
        ``` 
        
        - 결과
                    
           |NAME|PHONE|ADDRESS|SAL|SALARY|
           |:---|:---:|:---:|:---:|:---:|
           |다나가|010-3456-1234|청주|3000|36000|
           |가다나|010-2345-6789|서울|2000|24000|
           |가나다|010-1234-5678|대전|1000|12000|
           
     - `index` 3번으로 오름차순 조회
      
        ```$xslt
        SELECT *
        FROM info
        ORDER BY 3;
        ``` 
        
        - 결과
            
            |NAME|PHONE|ADDRESS|SAL|
            |:---|:---:|:---:|:---:|
            |가나다|010-1234-5678|대전|1000|
            |가다나|010-2345-6789|서울|2000|
            |다나가|010-3456-1234|청주|3000|
            
        - 테이블에 변화가 생기면 결과도 같이 바뀌기 때문에 추천하지 않는다.
             